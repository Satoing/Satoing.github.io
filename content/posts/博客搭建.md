---
title: "åšå®¢æ­å»º"
date: 2025-05-04
categories: ["åšå®¢æ›´æ–°è®°å½•"]
---

æ­å»ºé™æ€åšå®¢éœ€è¦è€ƒè™‘ä»¥ä¸‹æ–¹é¢ï¼š

1. é€‰æ‹©ä»€ä¹ˆæ¡†æ¶å’Œä¸»é¢˜ï¼Ÿå‡ ä¸ªæµè¡Œçš„é™æ€åšå®¢æ¡†æ¶ï¼Œå„è‡ªæœ‰å“ªäº›ä¼˜ç¼ºç‚¹ï¼Ÿ
2. éƒ¨ç½²åœ¨å“ªï¼Ÿéƒ¨ç½²åœ¨äº‘æœåŠ¡å™¨ä¸Šï¼Œè¿˜æ˜¯ç›´æ¥ä½¿ç”¨é™æ€ç½‘ç«™æ‰˜ç®¡å¹³å°ï¼Ÿ
3. å›¾åºŠçš„æ­å»ºï¼Ÿä½¿ç”¨å¯¹è±¡å­˜å‚¨ï¼Œæˆ–è€…å…¶ä»–å¥‡æŠ€æ·«å·§ï¼Ÿ

## ä¸€ã€æ¡†æ¶å’Œä¸»é¢˜
| æ¡†æ¶ | è¯­è¨€ | ç‰¹ç‚¹ | é€‚åˆäººç¾¤ |
| :---: | :---: | :---: | :---: |
| **Hugo** | Go | ç”Ÿæˆé€Ÿåº¦æœ€å¿«ï¼ˆæ¯«ç§’çº§ï¼‰ | è¿½æ±‚æé€Ÿæ„å»º |
| **Jekyll** | Ruby | GitHub Pages åŸç”Ÿæ”¯æŒ | æ–°æ‰‹/å°å‹åšå®¢ |
| **Hexo** | Node.js | æ’ä»¶ç”Ÿæ€ä¸°å¯Œ | å‰ç«¯å¼€å‘è€… |
| **Gatsby** | React | æ”¯æŒåŠ¨æ€æ•°æ®ï¼ˆGraphQLï¼‰ | React å¼€å‘è€… |
| **Astro** | JS/TS | æ··åˆé™æ€+åŠ¨æ€æ¸²æŸ“ | ç°ä»£ Web é¡¹ç›® |


ä½œä¸ºä¸€ä¸ªåå°ç¨‹åºå‘˜ï¼Œè‡ªç„¶é¦–é€‰hugoã€‚ä¸»é¢˜é€‰æ‹©ä»¥ç®€æ´ä¸ºä¸»çš„Paperã€‚

### é…ç½®
åœ¨`hugo.toml`ä¸­ï¼Œå¢åŠ å¯¼èˆªæ å’ŒåŸºæœ¬ä¿¡æ¯çš„é…ç½®ï¼š

```toml
baseURL = 'https://satoing.github.io'
languageCode = 'en-us'
title = 'Jupçš„åšå®¢'
theme = "paper"

[menu]
  [[menu.main]]
    name = "é¦–é¡µ"
    url = "/"
    weight = 1
  [[menu.main]]
    name = "æ–‡ç« "
    url = "/posts/"
    weight = 2
  [[menu.main]]
    name = "åˆ†ç±»"
    url = "/categories"
    weight = 3
  [[menu.main]]
    name = "æ ‡ç­¾"
    url = "/tags"
    weight = 4

[outputs]
  home = ["HTML", "JSON"]  # å…è®¸ç”ŸæˆJSON

[params]
  # color style
  color = 'linen'                 # linen, wheat, gray, light

  # header social icons
  github = 'satoing'              # github.com/YOUR_GITHUB_ID
  rss = true                      # show rss icon

  # home page profile
  avatar = 'xxx'                  # gravatar email or image url
  name = 'jup'
  bio = 'é’å±±æ—§æ­Œè°£'


  # misc
  disableHLJS = true               # disable highlight.js
  disablePostNavigation = true     # disable post navigation
  monoDarkIcon = true              # show monochrome dark mode icon
  math = false                     # enable KaTeX math typesetting globally
  localKatex = false               # use local KaTeX js/css instead of CDN
  favicon = "xxx"                  # customize the default favicon
  appleTouchIcon = "xxx"   				 # customize the default Apple touch icon
```

### é—®é¢˜
å°è¯•æ–°å¢ä¸€ç¯‡æ–‡ç« ï¼š`hugo new posts/first-post.md`ï¼Œç„¶å`hugo server`è¿è¡ŒhttpæœåŠ¡å™¨ã€‚

```markdown
---
title: "ç¬¬ä¸€ç¯‡åšå®¢"
date: 2023-10-20
categories: ["æŠ€æœ¯", "Hugo"]  # å¿…é¡»æ·»åŠ è¿™è¡Œ
tags: ["æ•™ç¨‹"]                # å·²æœ‰tags
---

## æ¬¢è¿
è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡ Hugo åšå®¢ï¼
```

æ–‡ç« çš„æœ«å°¾æ˜¾ç¤ºå‡ºäº†æ ‡ç­¾ï¼Œä½†æ˜¯åˆ†ç±»å¹¶æ²¡æœ‰æ­£å¸¸æ˜¾ç¤ºã€‚

å¯¼èˆªæ çš„åˆ†ç±»ã€æ ‡ç­¾ä¸‹é¢çš„å†…å®¹ä¹Ÿæ˜¯ç©ºçš„ï¼Œéœ€è¦ä½¿ç”¨è€…åœ¨ä¸»é¢˜çš„åŸºç¡€ä¸Šè¿›è¡Œä¸€äº›é­”æ”¹ã€‚

### é­”æ”¹
#### æ–‡ç« æ˜¾ç¤ºåˆ†ç±»
é¢„æœŸæ•ˆæœæ˜¯åˆ†ç±»æ˜¾ç¤ºåœ¨æ–‡ç« æœ€ä¸Šé¢ï¼Œæ ‡ç­¾æ˜¾ç¤ºåœ¨æœ€ä¸‹é¢ã€‚

![](https://img.jupng.top:7326/yuque/0/2025/png/2648742/1746338312987-4e92688c-8119-4416-8ff7-eeb47c027813.png)

ä¿®æ”¹`themes/paper/layouts/_default/single.html`ï¼Œæ–°å¢å¦‚ä¸‹å†…å®¹ã€‚é‡æ–°å¯åŠ¨httpæœåŠ¡å™¨ï¼ŒæˆåŠŸæ˜¾ç¤ºã€‚

```html
<header class="mb-14">
  <h1 class="my-0! pb-2.5">{{- .Title -}}</h1>

  {{- if ne .Type "page" -}}
  <div class="text-xs antialiased opacity-60">
    {{- if .Date -}}
    <time>{{- .Date | time.Format ":date_medium" -}}</time>&nbsp;&nbsp; <!-- å¢åŠ ä¸¤ä¸ªç©ºæ ¼ -->
    {{- end -}}
    
    <!-- start add -->
    <!-- Post Categories -->
    {{- if .Params.categories -}}
    {{- range .Params.categories -}}
    {{- $href := print (absURL "categories/") (urlize .) -}}
    <a class="mb-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] ltr:mr-1.5 rtl:ml-1.5 dark:bg-white/[8%] dark:hover:bg-white/[12%]"
      href="{{- $href -}}">{{- . -}}</a>
    {{- end -}}
    {{- end -}}
    <!-- end add -->
    
  </div>
  {{- end -}}

</header>
```

#### æ˜¾ç¤ºåˆ†ç±»å’Œæ ‡ç­¾é¡µ
ç‚¹å‡»æ–‡ç« çš„åˆ†ç±»ï¼š/categories/hugo/ èƒ½æ­£å¸¸è®¿é—®ã€‚ä½†æ˜¯/categories å°±æ˜¯ç©ºçš„ã€‚æ’æŸ¥ä¸‹æ¥ï¼Œæ˜¯å› ä¸º/categoriesæ²¡æœ‰ç»‘å®šåˆ°htmlã€‚ä¸‹é¢å¼€å§‹ä¿®æ”¹---

1. æ–°å¢_index.mdï¼š`hugo new categories/_index.md`

```markdown
---
title: "åˆ†ç±»"
layout: "categories"  # å…³é”®ï¼å¼ºåˆ¶æŒ‡å®šæ¨¡æ¿ç±»å‹
---
```

2. æ–°å»º`themes/paper/layouts/_default/categories.html`ï¼š

```html
{{ define "main" }}
<div class="taxonomy-page">
    <h1 class="taxonomy-title">{{ .Title }}</h1>

    {{ if .Data.Terms }}
    <div class="categories-grid">
        {{ range .Data.Terms.Alphabetical }}
        <div class="category-card">
            <a href="{{ .Page.Permalink }}" class="category-link">
                <span class="category-name">{{ .Page.Title }}</span>
                <span class="category-count">{{ .Count }}</span>
            </a>
        </div>
        {{ end }}
    </div>
    {{ else }}
    <div class="empty-state">
        <svg class="empty-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path
                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" />
        </svg>
        <p class="empty-text">æš‚æ— åˆ†ç±»æ•°æ®</p>
    </div>
    {{ end }}
</div>
{{ end }}
```

3. ç¾åŒ–æ ·å¼ï¼š`themes/paper/assets/custom.css`

```css
/* Place custom css here. */
@reference './app.css';

/* åˆ†ç±»é¡µä¸»å®¹å™¨ */
.taxonomy-page {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem 1rem;
}

/* æ ‡é¢˜æ ·å¼ï¼ˆåŒ¹é…æˆªå›¾ä¸­çš„é»‘è‰²å¤§æ ‡é¢˜ï¼‰ */
.taxonomy-title {
    font-size: 2rem;
    font-weight: 600;
    text-align: center;
    margin-bottom: 2rem;
    position: relative;
}

.taxonomy-title::after {
    content: "";
    display: block;
    width: 60px;
    height: 3px;
    background: #ddd;
    margin: 1rem auto 0;
}

/* åˆ†ç±»ç½‘æ ¼å¸ƒå±€ */
.categories-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1.5rem;
    margin-top: 1rem;
}

/* åˆ†ç±»å¡ç‰‡ï¼ˆåŒ¹é…æˆªå›¾ä¸­çš„ç™½åº•é»‘æ¡†æ ·å¼ï¼‰ */
.category-card {
    background: white;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    transition: all 0.3s ease;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.03);
}

.category-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    border-color: #c9c9c9;
}

/* åˆ†ç±»é“¾æ¥æ ·å¼ */
.category-link {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.25rem;
    color: #333;
    text-decoration: none;
}

.category-name {
    font-size: 1.1rem;
    font-weight: 500;
}

.category-count {
    background: #f5f5f5;
    color: #666;
    font-size: 0.9rem;
    padding: 0.25rem 0.5rem;
    border-radius: 12px;
}

/* ç©ºçŠ¶æ€æ ·å¼ */
.empty-state {
    text-align: center;
    padding: 3rem 0;
}

.empty-icon {
    width: 60px;
    height: 60px;
    margin: 0 auto;
    opacity: 0.5;
}

.empty-text {
    color: #888;
    margin-top: 1rem;
    font-size: 1.1rem;
}

/* ç§»åŠ¨ç«¯é€‚é… */
@media (max-width: 640px) {
    .categories-grid {
        grid-template-columns: 1fr;
    }

    .taxonomy-title {
        font-size: 1.5rem;
    }
}

.about-page {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
}

.about-page h1 {
    border-bottom: 2px solid #eee;
}
```

æ•ˆæœé¢„è§ˆï¼š

![](https://img.jupng.top:7326/yuque/0/2025/png/2648742/1746338931174-9ac94209-a06d-41d3-bbf4-7f63a93c98f6.png)

tagé¡µçš„ä¿®æ”¹åŒç†ï¼š

1. `hugo new tags/_index.md`

```markdown
---
title: "# æ ‡ç­¾"
layout: "tags"  # å…³é”®ï¼å¼ºåˆ¶æŒ‡å®šæ¨¡æ¿ç±»å‹
---
```

2. `themes/paper/layouts/_default/tags.html`

```html
{{ define "main" }}
<div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-6">{{ .Title }}</h1>

    {{ if .Data.Terms }}
    <div class="flex flex-wrap gap-2">
        {{ range .Data.Terms.Alphabetical }}
        <a href="{{ .Page.Permalink }}" class="px-4 py-2 bg-gray-100 rounded-full hover:bg-gray-200 transition">
            {{ .Page.Title }} <span class="text-sm text-gray-500">({{ .Count }})</span>
        </a>
        {{ end }}
    </div>
    {{ else }}
    <div class="empty-state">
        <svg class="w-12 h-12 mx-auto text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A2 2 0 013 12V7a4 4 0 014-4z">
            </path>
        </svg>
        <p class="mt-4 text-center text-gray-500">æš‚æ— æ ‡ç­¾æ•°æ®</p>
    </div>
    {{ end }}
</div>
{{ end }}
```

æ•ˆæœé¢„è§ˆï¼š

![](https://img.jupng.top:7326/yuque/0/2025/png/2648742/1746338951383-0cd44eb2-53f0-4212-8aeb-4ae6a2752872.png)

## äºŒã€éƒ¨ç½²
å¯¹å¤–æœåŠ¡è‡ªç„¶éœ€è¦ä¸€ä¸ªåŸŸåã€‚ä½¿ç”¨åŸŸåè®¿é—®å›½å†…çš„æœåŠ¡å™¨éƒ½éœ€è¦ç¹ççš„å¤‡æ¡ˆï¼Œç›´æ¥passã€‚

ç»¼åˆä¾¿æ·æ€§å’Œç¨³å®šæ€§ï¼Œæœ€åé€‰æ‹©ä½¿ç”¨github pagesä½œä¸ºæ‰˜ç®¡ã€‚

1. æ–°å»ºä¸€ä¸ª<ç”¨æˆ·å>.github.ioçš„ä»“åº“ã€‚
2. è®¾ç½®pageséƒ¨ç½²ç›®å½•ä¸ºdocsã€‚  
![](https://img.jupng.top:7326/yuque/0/2025/png/2648742/1746339159554-ab25e717-fe43-41b8-92a6-4988e6ade837.png)
3. åœ¨åšå®¢æ ¹ç›®å½•åˆå§‹åŒ–ä»“åº“ï¼Œè®¾ç½®è¿œç¨‹ä»“åº“ä¸ºè¯¥ä»“åº“ã€‚å¹¶é…ç½®sshå…å¯†ç™»å½•ï¼Œé¿å…pushæ—¶è¾“å…¥å¯†ç ã€‚

```bash
git init
git remote add origin git@github.com:Satoing/Satoing.github.io.git

// è®¾ç½®å…å¯†ç™»å½•å
ssh -T git@github.com
```

æ€ä¹ˆè®¾ç½®å…å¯†ç™»å½•ï¼Ÿ

![](https://img.jupng.top:7326/yuque/0/2025/png/2648742/1746339394787-f5539eec-7979-402d-90a5-508c117a47aa.png)

æœ€åç¼–å†™ä¸€ä¸ªshellè„šæœ¬`deploy.sh`ï¼Œç”¨äºç”Ÿæˆé™æ€æ–‡ä»¶->æäº¤githubéƒ¨ç½²ã€‚

```shell
#!/bin/bash

# 1. ç”Ÿæˆ Hugo é™æ€æ–‡ä»¶åˆ° docs/
echo "ğŸš€ ç”Ÿæˆ Hugo é™æ€æ–‡ä»¶..."
hugo -D --destination docs

# 2. æäº¤å¹¶æ¨é€
echo "ğŸ“¦ æäº¤åˆ° main åˆ†æ”¯..."
git add .
git commit -m "Update site $(date)"
git push origin main

echo "âœ… éƒ¨ç½²å®Œæˆï¼è®¿é—® https://satoing.github.io"
```

## ä¸‰ã€å›¾åºŠ
å›¾åºŠå¯ä»¥è¯´æ‰æ˜¯åšå®¢çš„æ ¸å¿ƒã€‚ç®€å•ä»‹ç»ä¸‹æˆ‘å›¾åºŠçš„éªšæ“ä½œã€‚

é¦–å…ˆï¼Œæˆ‘çš„æ–‡ç« ä¸€èˆ¬ä¼šåœ¨è¯­é›€ä¸Šç¼–å†™ã€‚å†™å®Œåï¼Œå¯¼å‡ºä¸ºmarkdownã€‚å›¾ç‰‡çš„é“¾æ¥å¦‚ä¸‹ï¼š

```markdown
![](https://cdn.nlark.com/yuque/0/2024/png/2648742/1727863047799-9e824d6a-29c2-4f37-a5b6-2952257b0cfc.png)
```

éº»çƒ¦çš„ç‚¹æ˜¯å›¾ç‰‡è®¾ç½®äº†é˜²ç›—é“¾ï¼Œéœ€è¦åœ¨httpè¯·æ±‚å¤´ä¸­è®¾ç½®`Referer: https://yuque.com`ï¼Œæ‰èƒ½æ­£å¸¸è®¿é—®å›¾ç‰‡ã€‚

äºæ˜¯åœ¨äº‘æœåŠ¡å™¨ä¸Šä½¿ç”¨Nginxè¿›è¡Œåå‘ä»£ç†ï¼š

```nginx
server
{
    listen 7326;
    http2 on;
    server_name image.lulukiko.top;

    # åªä»£ç†å›¾ç‰‡è¯·æ±‚
    location ~ ^/(.*\.(jpg|jpeg|png|gif|webp|svg))$ {
        valid_referers ~localhost:1313 ~127.0.0.1:1313 ~satoing\.github\.io;
        if ($invalid_referer) {
            return 403;
        }

        proxy_pass https://cdn.nlark.com/$1;
        proxy_set_header Referer "https://www.yuque.com/";
        proxy_set_header Host "cdn.nlark.com";
        
        proxy_cache_valid 200 302 1d;
        proxy_cache_key "$scheme$proxy_host$request_uri";
        
        proxy_ssl_server_name on;
        proxy_ssl_session_reuse on;
        
        proxy_buffering on;
        proxy_connect_timeout 5s;
        proxy_read_timeout 10s;
    }

    # å…¶ä»–è¯·æ±‚è¿”å› 404
    location / {
        return 404;
    }

    access_log  /www/wwwlogs/image.lulukiko.top.log;
    error_log  /www/wwwlogs/image.lulukiko.top.error.log;
}
```

è¿™æ ·æŠŠ`https://cdn.nlark.com`æ›¿æ¢ä¸º`http://image.lulukiko.top:7326`å°±å¯ä»¥è®¿é—®åˆ°å›¾ç‰‡äº†ã€‚

æˆ‘è¿™é‡Œä¹Ÿè®¾ç½®äº†é˜²ç›—é“¾ï¼ŒRefereréœ€è¦æ»¡è¶³`~localhost:1313 ~127.0.0.1:1313 ~satoing\.github\.io`æ‰èƒ½ä½¿ç”¨ï¼Œå¦åˆ™è¿”å›403é”™è¯¯ã€‚

å½“ç„¶æœ€å¥½è¿˜æ˜¯ä½¿ç”¨httpsã€‚ç”³è¯·Let's Encryptè¯ä¹¦åï¼Œåœ¨Nginxä¸­æŒ‡å®šè¯ä¹¦ä½ç½®å³å¯ã€‚

